<!-- HTML page to upload text files -->

<html>
  <head>
    <title>Upload File</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.9/css/fileinput.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.9/js/plugins/piexif.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.9/js/plugins/sortable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.9/js/plugins/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.4.9/js/fileinput.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="text-center text-white">
        <h1 class="text-white bg-dark">Upload your File here</h1>
        <!-- Test all icons -->

        <!-- This file input will automatically converted into "Bootstrap File Input" -->
        <!-- Iconic preview for thumbs and detailed preview for zoom -->
        <form action="/upload" method="POST" enctype="multipart/form-data">
          <div class="file-loading" style="padding: -200px">
            <input id="input-ficons-5" name="sourcefile" type="file" />
          </div>

          <p>&nbsp;</p>
          <button type="submit" class="btn btn-default">Upload</button>
        </form>
      </div>
    </div>
    <script>
      $("#input-ficons-5").fileinput({
        uploadUrl: "/file-upload-batch/2",
        uploadAsync: false,
        previewFileIcon: '<i class="fa fa-file"></i>',
        preferIconicPreview: true, // this will force thumbnails to display icons for following file extensions
        previewFileIconSettings: {
          // configure your icon file extensions
          mov: '<i class="far fa-file-video text-warning"></i>',
          mp3: '<i class="far fa-file-audio text-warning"></i>',
          img: '<i class="far fa-file-image text-danger"></i>',
          model: '<i class="fas fa-draw-polygon"></i>',
        },
        previewFileExtSettings: {
          // configure the logic for determining icon file extensions
          mov: function (ext) {
            return ext.match(/(avi|mpg|mkv|mov|mp4|3gp|webm|wmv)$/i);
          },
          mp3: function (ext) {
            return ext.match(/(mp3|wav)$/i);
          },
          img: function (ext) {
            return ext.match(/(jpg|gif|png|svg)$/i);
          },
          model: function (ext) {
            return ext.match(/(obj|fbx)$/i);
          },
        },
      });
    </script>
  </body>
</html>
